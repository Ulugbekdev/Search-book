"use strict";(self.webpackChunksearch_book=self.webpackChunksearch_book||[]).push([[124],{1124:function(n,t,e){e.r(t),e.d(t,{default:function(){return L}});var r=e(5861),o=e(885),i=e(7757),a=e.n(i),s=e(2791),u=e(6030),c=e(6871),l=e(9899),h=e(9860),f=e(8039),x=e(4554),m=e(184),d=function(n){var t=(0,s.useState)(""),e=(0,o.Z)(t,2),i=e[0],c=e[1],d=(0,s.useState)(""),g=(0,o.Z)(d,2),v=g[0],p=g[1],j=(0,s.useState)(!1),Z=(0,o.Z)(j,2),k=Z[0],b=Z[1],I=(0,u.v9)((function(n){return n.searchPage.books})),y=(0,u.I0)(),w=function(){var n=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.target.value,i.length>0&&p(""),c(e);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),C=function(){var n=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(t),e=t.target[0].value,0===i.length&&p("Enter something"),b(!0),n.next=6,y((0,l.l5)(e,I)).then((function(n){}),(function(n){p(n)}));case 6:b(!1);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(x.Z,{component:"form",sx:{"& > :not(style)":{m:1},mx:"auto",width:1,maxWidth:500,display:"flex",alignItems:"start",py:"25px"},noValidate:!0,autoComplete:"off",onSubmit:function(n){return C(n)},children:[v?(0,m.jsx)(f.Z,{error:!0,size:"small",fullWidth:!0,label:"Login",variant:"outlined",type:"text",name:"Search",value:i,onChange:function(n){return w(n)},helperText:v}):(0,m.jsx)(f.Z,{fullWidth:!0,size:"small",label:"Search",variant:"outlined",type:"text",value:i,onChange:function(n){return w(n)}}),(0,m.jsx)(h.Z,{size:"medium",loading:k,loadingIndicator:"Searching...",variant:"contained",type:"submit",children:"Search"})]})})},g=e(7621),v=e(2363),p=e(9504),j=e(2169),Z=e(890),k=e(6151),b=e(1889),I=e(7246),y=e(3767),w=function(n){var t=n.booksTotalItems,e=n.maxTotalBooks,r=(0,s.useState)(0),i=(0,o.Z)(r,2),a=i[0],c=i[1],h=(0,u.I0)();(0,s.useEffect)((function(){h((0,l.yZ)(e,a))}),[a]);var f=Math.ceil(t/e)-1;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(y.Z,{children:(0,m.jsx)(I.Z,{count:f,variant:"outlined",size:"large",color:"primary",sx:{py:"25px",mx:"auto"},onChange:function(n,t){return c(t)}})})})},C=function(n){var t=(0,u.v9)((function(n){return n.searchPage.books})),e=(0,u.v9)((function(n){return n.searchPage.booksResultSearch})),o=(0,u.v9)((function(n){return n.searchPage.maxTotalBooks})),i=(0,u.v9)((function(n){return n.searchPage.booksTotalItems})),s=function(){var t=(0,r.Z)(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.getDetailsInfo(e);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c=(e.length>0?e:t).map((function(n,t){return(0,m.jsx)(b.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsxs)(g.Z,{sx:{backgroundColor:"#282c34",borderRadius:"10px"},children:[(0,m.jsx)(j.Z,{component:"img",height:"200",image:n.volumeInfo.imageLinks.smallThumbnail,alt:n.volumeInfo.title}),(0,m.jsxs)(p.Z,{sx:{height:"150px",backgroundColor:"inherit"},children:[(0,m.jsx)(Z.Z,{gutterBottom:!0,variant:"h6",component:"div",children:n.volumeInfo.title}),(0,m.jsx)(Z.Z,{gutterBottom:!0,variant:"subtitle1",component:"div",children:n.volumeInfo.publishedDate})]}),(0,m.jsx)(v.Z,{sx:{backgroundColor:"inherit"},children:(0,m.jsx)(k.Z,{size:"small",variant:"contained",onClick:function(){return s(n.id)},children:"More"})})]})},n.key)}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.ZP,{container:!0,spacing:2,sx:{py:"25px"},children:c}),(0,m.jsx)(w,{maxTotalBooks:o,booksTotalItems:i})]})},S=e(3400),P=e(9823),B=function(n){var t=(0,u.v9)((function(n){return n.searchPage.bookDetailInfo})),e=t.volumeInfo.authors.length>0?t.volumeInfo.authors.join(", "):t.volumeInfo.authors;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{sx:{width:1,maxWidth:700,minHeight:300,maxHeight:600,backgroundColor:"#282c34",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1},children:(0,m.jsxs)(x.Z,{sx:{display:"flex",alignItems:"start",position:"relative"},children:[(0,m.jsx)(j.Z,{component:"img",height:"600",image:t.volumeInfo.imageLinks.medium,alt:t.volumeInfo.title,sx:{width:.5}}),(0,m.jsxs)(p.Z,{sx:{overflowY:"scroll",width:.5},children:[(0,m.jsx)(Z.Z,{gutterBottom:!0,variant:"h5",component:"div",children:t.volumeInfo.title}),(0,m.jsx)(Z.Z,{gutterBottom:!0,variant:"subtitle1",component:"div",children:e}),(0,m.jsx)(Z.Z,{gutterBottom:!0,variant:"subtitle2",component:"div",children:t.volumeInfo.publishedDate}),(0,m.jsx)(Z.Z,{variant:"body2",component:"div",children:t.volumeInfo.description}),(0,m.jsx)(v.Z,{children:(0,m.jsx)(S.Z,{onClick:function(){return n.setIsClose(!0)},sx:{position:"absolute",top:"15px",right:"15px"},children:(0,m.jsx)(P.Z,{color:"primary",fontSize:"large",sx:{fontWeight:"700"}})})})]})]})})})},T=e(7544),F=e(4395),z=e(4663),D=function(n){var t=(0,u.I0)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(x.Z,{sx:{flexGrow:1},children:(0,m.jsx)(F.Z,{position:"static",sx:{backgroundColor:"#282c34"},children:(0,m.jsxs)(z.Z,{sx:{backgroundColor:"inherit"},children:[(0,m.jsx)(Z.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Search books"}),(0,m.jsx)(k.Z,{color:"inherit",onClick:function(n){return localStorage.setItem("token",""),t((0,T.Lw)("")),(0,m.jsx)(c.Fg,{to:"/login"})},children:"Log out"})]})})})})},L=function(n){var t=(0,s.useState)(!1),e=(0,o.Z)(t,2),i=e[0],h=e[1],f=(0,s.useState)(!0),x=(0,o.Z)(f,2),g=x[0],v=x[1],p=(0,u.v9)((function(n){return n.loginPage.login})),j=(0,u.v9)((function(n){return n.searchPage.maxTotalBooks})),Z=(0,u.I0)();(0,s.useEffect)((function(){Z((0,l.yZ)(j))}),[]),(0,s.useEffect)((function(){if(g)return h(!1)}),[g]);var k=function(){var n=(0,r.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z((0,l.fm)(t));case 2:h(!0),v(!1);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return p?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(D,{}),(0,m.jsx)(d,{}),(0,m.jsx)(C,{getDetailsInfo:k}),i?(0,m.jsx)(B,{setIsClose:function(n){return v(n)}}):null]}):(0,m.jsx)(c.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=124.f0d4bce6.chunk.js.map